<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mindmap Malware Informatica</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background: #0f1724;
      color: #e6eef8;
    }
    h1 {
      text-align: center;
      color: #7dd3fc;
      margin: 20px 0;
    }
    svg {
      width: 100%;
      height: 100vh;
    }
    .node rect {
      fill: #0b1220;
      stroke: #7dd3fc;
      stroke-width: 2px;
      rx: 12;
      ry: 12;
    }
    .label {
      fill: #e6eef8;
      font-size: 14px;
      text-anchor: middle;
      font-family: Arial;
      pointer-events: none;
    }
    .link {
      fill: none;
      stroke: #7dd3fc;
      stroke-width: 2px;
      marker-end: url(#arrow);
    }
  </style>
</head>
<body>
  <h1>Mindmap Malware Informatica</h1>
  <svg></svg>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    const data = {
      name: "Malware",
      children: [
        {
          name: "Symptomen",
          children: [
            { name: "Traag systeem / internet" },
            { name: "Bestanden verdwenen / vergrendeld" },
            { name: "Gestolen gegevens" },
            { name: "Pop-ups / reclame / toolbars" }
          ]
        },
        {
          name: "Oorzaken",
          children: [
            { name: "Onvoorzichtig gebruik (downloads, links)" },
            { name: "Besmette USB of netwerk" },
            { name: "Onveilige / verouderde software" },
            { name: "Gratis software met adware" }
          ]
        },
        {
          name: "Soorten malware",
          children: [
            { name: "Virus" }, { name: "Worm" }, { name: "Trojaans paard" },
            { name: "Spyware" }, { name: "Adware" }, { name: "Spam" },
            { name: "Hoax" }, { name: "Scareware" }, { name: "Ransomware" },
            { name: "Cryptojacking" }
          ]
        },
        {
          name: "Smartphones & tablets"
        },
        {
          name: "Bescherming",
          children: [
            { name: "Antivirus & firewall" },
            { name: "Software up-to-date" },
            { name: "Alleen officiÃ«le downloads" },
            { name: "Back-ups maken" },
            { name: "Sterke wachtwoorden & 2FA" },
            { name: "Voorzichtig met mails & wifi" }
          ]
        },
        {
          name: "Slachtoffer?",
          children: [
            { name: "Virusscanner / herstel / herinstallatie" },
            { name: "Wachtwoorden wijzigen" },
            { name: "Bank & politie contacteren" },
            { name: "Nooit losgeld betalen" }
          ]
        }
      ]
    };

    const svg = d3.select("svg"),
          width = window.innerWidth,
          height = window.innerHeight;

    // Setup arrow marker
    svg.append("defs").append("marker")
      .attr("id", "arrow")
      .attr("markerWidth", 10)
      .attr("markerHeight", 10)
      .attr("refX", 6)
      .attr("refY", 3)
      .attr("orient", "auto")
      .attr("markerUnits", "strokeWidth")
      .append("path")
      .attr("d", "M0,0 L0,6 L6,3 z")
      .attr("fill", "#7dd3fc");

    // Create radial tree layout
    const root = d3.hierarchy(data);
    const treeLayout = d3.tree().size([2 * Math.PI, Math.min(width, height) / 2 - 100]);
    treeLayout(root);

    // Convert polar coords to cartesian
    function project(x, y) {
      const angle = x - Math.PI / 2;
      return [y * Math.cos(angle) + width / 2, y * Math.sin(angle) + height / 2];
    }

    // Draw links
    svg.selectAll(".link")
      .data(root.links())
      .enter().append("path")
      .attr("class", "link")
      .attr("d", d => {
        const [sx, sy] = project(d.source.x, d.source.y);
        const [tx, ty] = project(d.target.x, d.target.y);
        return `M${sx},${sy} L${tx},${ty}`;
      });

    // Draw nodes
    const node = svg.selectAll(".node")
      .data(root.descendants())
      .enter().append("g")
      .attr("class", "node")
      .attr("transform", d => {
        const [x, y] = project(d.x, d.y);
        return `translate(${x},${y})`;
      });

    node.append("rect")
      .attr("x", d => -(d.data.name.length * 4))
      .attr("y", -15)
      .attr("width", d => d.data.name.length * 8)
      .attr("height", 30);

    node.append("text")
      .attr("class", "label")
      .text(d => d.data.name);
  </script>
</body>
</html>
