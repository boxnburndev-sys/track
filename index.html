<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Malware Mindmap - Radial Layout</title>
<style>
  :root {
    --bg: #f0f4f8;
    --accent: #0b6cff;
    --node-bg: #ffffff;
    --node-text: #0f1724;
    --link: #94a3b8;
  }
  html, body {
    margin:0; padding:0; height:100%; font-family:Inter,Arial,sans-serif;
    background: var(--bg); color: var(--node-text);
    overflow: hidden;
  }
  header {
    display:flex; justify-content:space-between; align-items:center;
    padding:12px 24px; background: var(--bg);
  }
  h1 { margin:0; font-size:18px; color: var(--accent); }
  button { padding:8px 14px; border-radius:8px; border:none; background: var(--accent); color:#fff; font-weight:600; cursor:pointer;}
  svg { width:100%; height:calc(100% - 48px); }
  .node rect {
    fill: var(--node-bg); stroke: var(--accent); stroke-width:2; rx:10; ry:10;
  }
  .node text {
    font-size:12px; text-anchor:middle; alignment-baseline:middle; fill:var(--node-text);
    font-family:Inter,Arial,sans-serif;
  }
  path.link { stroke: var(--link); stroke-width:2; fill:none; marker-end:url(#arrow); }
  @media print { header, button { display:none } }
</style>
</head>
<body>
<header>
  <h1>Malware Mindmap — Radial Layout</h1>
  <button onclick="window.print()">Print</button>
</header>
<svg id="svgRoot">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,8 L8,4 Z" fill="#94a3b8" />
    </marker>
  </defs>
</svg>

<script>
const svg = document.getElementById("svgRoot");
const svgns = "http://www.w3.org/2000/svg";

const data = {
  root: "Malware",
  branches: [
    {title:"Wat is malware?", items:[
      "Kwaadaardige software (Malicious software).",
      "Bevat virussen, wormen, trojaanse paarden, spyware, adware, ransomware."
    ]},
    {title:"Symptomen", items:[
      "Traag systeem/internet",
      "Bestanden verdwenen/vergrendeld",
      "Gestolen gegevens (logins, e-mail)",
      "Pop-ups, toolbars, reclame",
      "Homepage verandert"
    ]},
    {title:"Oorzaken", items:[
      "Onvoorzichtig gebruik (links/downloads)",
      "Besmette USB / netwerk",
      "Onveilige/verouderde software",
      "Gratis software met adware"
    ]},
    {title:"Soorten malware", items:[
      "Virus, Worm, Trojaans paard",
      "Spyware, Adware, Spam, Hoax",
      "Scareware, Ransomware, Cryptojacking"
    ]},
    {title:"Mobiele apparaten", items:[
      "Smartphones/tablets kwetsbaar",
      "Gebruik alleen officiële app-stores"
    ]},
    {title:"Bescherming", items:[
      "Antivirus & firewall",
      "Up-to-date software",
      "Officiële downloads",
      "Back-ups",
      "Sterke wachtwoorden & 2FA",
      "Wees kritisch online"
    ]},
    {title:"Als slachtoffer", items:[
      "Virusscanner / herstelpunt",
      "Wachtwoorden wijzigen",
      "Bank/autoriteiten contacteren",
      "Nooit losgeld betalen"
    ]}
  ]
};

const centerX = 700;
const centerY = 400;
const rootNodeW = 140;
const rootNodeH = 50;
const radiusStep = 140;
const nodeW = 160;
const nodeH = 40;

// Draw root node
const rootGroup = createNode(centerX, centerY, rootNodeW, rootNodeH, data.root, true);

// Draw radial branches
const totalBranches = data.branches.length;
const angleStep = 360 / totalBranches;

data.branches.forEach((branch,i)=>{
  const angle = i * angleStep;
  const rad = angle * Math.PI / 180;
  const branchX = centerX + Math.cos(rad) * radiusStep;
  const branchY = centerY + Math.sin(rad) * radiusStep;

  const branchNode = createNode(branchX, branchY, nodeW, nodeH, branch.title, true);
  createLink(rootGroup, branchNode);

  // Draw items on sub-branches
  const itemsCount = branch.items.length;
  const itemRadius = radiusStep + 100;
  branch.items.forEach((item,j)=>{
    const itemAngle = angle - 15 + (30/itemsCount)*j; // spread items slightly
    const itemRad = itemAngle * Math.PI / 180;
    const itemX = centerX + Math.cos(itemRad) * itemRadius;
    const itemY = centerY + Math.sin(itemRad) * itemRadius;
    const itemNode = createNode(itemX, itemY, nodeW, nodeH, branch.items[j], false);
    createLink(branchNode, itemNode);
  });
});

function createNode(x,y,w,h,text,isHeader){
  const g = document.createElementNS(svgns,"g");
  g.setAttribute("transform",`translate(${x-w/2},${y-h/2})`);
  g.setAttribute("class","node");
  const rect = document.createElementNS(svgns,"rect");
  rect.setAttribute("width",w);
  rect.setAttribute("height",h);
  rect.setAttribute("rx",10);
  rect.setAttribute("ry",10);
  g.appendChild(rect);

  const t = document.createElementNS(svgns,"text");
  t.setAttribute("x",w/2);
  t.setAttribute("y",h/2);
  t.setAttribute("dominant-baseline","middle");
  t.setAttribute("text-anchor","middle");
  t.textContent = text;
  g.appendChild(t);
  svg.appendChild(g);
  return g;
}

function createLink(parent, child){
  const px = parseFloat(parent.getCTM().e) + parseFloat(parent.firstChild.getAttribute("width"))/2;
  const py = parseFloat(parent.getCTM().f) + parseFloat(parent.firstChild.getAttribute("height"))/2;
  const cx = parseFloat(child.getCTM().e) + parseFloat(child.firstChild.getAttribute("width"))/2;
  const cy = parseFloat(child.getCTM().f) + parseFloat(child.firstChild.getAttribute("height"))/2;

  const path = document.createElementNS(svgns,"path");
  const dx = (cx-px)/2;
  const dy = (cy-py)/2;
  path.setAttribute("d", `M ${px} ${py} C ${px+dx} ${py} ${cx-dx} ${cy} ${cx} ${cy}`);
  path.setAttribute("class","link");
  svg.appendChild(path);
}
</script>
</body>
</html>
